const e=document,t=localStorage,i="prefers-color-scheme",a="media",s="light",r="dark",o=`(${i}:${r})`,n=`(${i}:${s})`,l="link[rel=stylesheet]",h="remember",c="legend",d="toggle",b="switch",p="appearance",g="permanent",m="mode",u="colorschemechange",f="permanentcolorscheme",k="all",v="not all",$="dark-mode-toggle",L="https://googlechromelabs.github.io/dark-mode-toggle/demo/",y=(e,t,i=t)=>{Object.defineProperty(e,i,{enumerable:!0,get(){const e=this.getAttribute(t);return null===e?"":e},set(e){this.setAttribute(t,e)}})},x=(e,t,i=t)=>{Object.defineProperty(e,i,{enumerable:!0,get(){return this.hasAttribute(t)},set(e){e?this.setAttribute(t,""):this.removeAttribute(t)}})},w=e.createElement("template");w.innerHTML=`<style>*,::after,::before{box-sizing:border-box}:host{contain:content;display:block}:host([hidden]){display:none}form{background-color:var(--${$}-background-color,transparent);color:var(--${$}-color,inherit);padding:0}fieldset{border:none;margin:0;padding-block:.25rem;padding-inline:.25rem}legend{font:var(--${$}-legend-font,inherit);padding:0}input,label{cursor:pointer}label{white-space:nowrap}input{opacity:0;position:absolute;pointer-events:none}input:focus-visible+label{outline:#e59700 auto 2px;outline:-webkit-focus-ring-color auto 5px}label:not(:empty)::before{margin-inline-end:.5rem;}label::before{content:"";display:inline-block;background-size:var(--${$}-icon-size,1rem);background-repeat:no-repeat;height:var(--${$}-icon-size,1rem);width:var(--${$}-icon-size,1rem);vertical-align:middle;}[part=lightLabel]::before{background-image:var(--${$}-light-icon, url("${L}sun.png"))}[part=darkLabel]::before{filter:var(--${$}-icon-filter, none);background-image:var(--${$}-dark-icon, url("${L}moon.png"))}[part=toggleLabel]::before{background-image:var(--${$}-checkbox-icon,none)}[part=permanentLabel]::before{background-image:var(--${$}-remember-icon-unchecked, url("${L}unchecked.svg"))}[part=darkLabel],[part=lightLabel],[part=toggleLabel]{font:var(--${$}-label-font,inherit)}[part=darkLabel]:empty,[part=lightLabel]:empty,[part=toggleLabel]:empty{font-size:0;padding:0}[part=permanentLabel]{font:var(--${$}-remember-font,inherit)}input:checked+[part=permanentLabel]::before{background-image:var(--${$}-remember-icon-checked, url("${L}checked.svg"))}input:checked+[part=darkLabel],input:checked+[part=lightLabel]{background-color:var(--${$}-active-mode-background-color,transparent)}input:checked+[part=darkLabel]::before,input:checked+[part=lightLabel]::before{background-color:var(--${$}-active-mode-background-color,transparent)}input:checked+[part=toggleLabel]::before{filter:var(--${$}-icon-filter, none)}input:checked+[part=toggleLabel]+aside [part=permanentLabel]::before{filter:var(--${$}-remember-filter, invert(100%))}aside{visibility:hidden;margin-block-start:.15rem}[part=darkLabel]:focus-visible~aside,[part=lightLabel]:focus-visible~aside,[part=toggleLabel]:focus-visible~aside{visibility:visible;transition:visibility 0s}aside [part=permanentLabel]:empty{display:none}@media (hover:hover){aside{transition:visibility 3s}aside:hover{visibility:visible}[part=darkLabel]:hover~aside,[part=lightLabel]:hover~aside,[part=toggleLabel]:hover~aside{visibility:visible;transition:visibility 0s}}</style><form part=form><fieldset part=fieldset><legend part=legend></legend><input part=lightRadio id=l name=mode type=radio><label part=lightLabel for=l></label><input part=darkRadio id=d name=mode type=radio><label part=darkLabel for=d></label><input part=toggleCheckbox id=t type=checkbox><label part=toggleLabel for=t></label><aside part=aside><input part=permanentCheckbox id=p type=checkbox><label part=permanentLabel for=p></label></aside></fieldset></form>`;export class DarkModeToggle extends HTMLElement{static get observedAttributes(){return[m,p,g,c,s,r,h]}constructor(){super(),y(this,m),y(this,p),y(this,c),y(this,s),y(this,r),y(this,h),x(this,g),this.t=null,this.i=null,e.addEventListener(u,e=>{this.mode=e.detail.colorScheme,this.o(),this.l()}),e.addEventListener(f,e=>{this.permanent=e.detail.permanent,this.h.checked=this.permanent}),this.p()}p(){const h=this.attachShadow({mode:"open"});h.appendChild(w.content.cloneNode(!0)),this.t=e.querySelectorAll(`${l}[${a}*=${i}][${a}*="${r}"]`),this.i=e.querySelectorAll(`${l}[${a}*=${i}][${a}*="${s}"]`),this.g=h.querySelector("[part=lightRadio]"),this.m=h.querySelector("[part=lightLabel]"),this.u=h.querySelector("[part=darkRadio]"),this.k=h.querySelector("[part=darkLabel]"),this.v=h.querySelector("[part=toggleCheckbox]"),this.$=h.querySelector("[part=toggleLabel]"),this.L=h.querySelector("legend"),this.M=h.querySelector("aside"),this.h=h.querySelector("[part=permanentCheckbox]"),this.C=h.querySelector("[part=permanentLabel]");const c=matchMedia(o).media!==v;c&&matchMedia(o).addListener(({matches:e})=>{this.mode=e?r:s,this.R(u,{colorScheme:this.mode})});const m=t.getItem($);m&&[r,s].includes(m)?(this.mode=m,this.h.checked=!0,this.permanent=!0):c&&(this.mode=matchMedia(n).matches?s:r),this.mode||(this.mode=s),this.permanent&&!m&&t.setItem($,this.mode),this.appearance||(this.appearance=d),this._(),this.o(),this.l(),[this.g,this.u].forEach(e=>{e.addEventListener("change",()=>{this.mode=this.g.checked?s:r,this.l(),this.R(u,{colorScheme:this.mode})})}),this.v.addEventListener("change",()=>{this.mode=this.v.checked?r:s,this.o(),this.R(u,{colorScheme:this.mode})}),this.h.addEventListener("change",()=>{this.permanent=this.h.checked,this.R(f,{permanent:this.permanent})}),this.A(),this.R(u,{colorScheme:this.mode}),this.R(f,{permanent:this.permanent})}attributeChangedCallback(e,i,a){if(e===m){if(![s,r].includes(a))throw new RangeError(`Allowed values: "${s}" and "${r}".`);matchMedia("(hover:none)").matches&&this.remember&&this.S(),this.permanent&&t.setItem($,this.mode),this.o(),this.l(),this.A()}else if(e===p){if(![d,b].includes(a))throw new RangeError(`Allowed values: "${d}" and "${b}".`);this._()}else e===g?(this.permanent?t.setItem($,this.mode):t.removeItem($),this.h.checked=this.permanent):e===c?this.L.textContent=a:e===h?this.C.textContent=a:e===s?(this.m.textContent=a,this.mode===s&&(this.$.textContent=a)):e===r&&(this.k.textContent=a,this.mode===r&&(this.$.textContent=a))}R(e,t){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:t}))}_(){const e=this.appearance===d;this.g.hidden=e,this.m.hidden=e,this.u.hidden=e,this.k.hidden=e,this.v.hidden=!e,this.$.hidden=!e}o(){this.mode===s?this.g.checked=!0:this.u.checked=!0}l(){this.mode===s?(this.$.style.setProperty(`--${$}-checkbox-icon`,`var(--${$}-light-icon,url("${L}moon.png"))`),this.$.textContent=this.light,this.v.checked=!1):(this.$.style.setProperty(`--${$}-checkbox-icon`,`var(--${$}-dark-icon,url("${L}sun.png"))`),this.$.textContent=this.dark,this.v.checked=!0)}A(){this.mode===s?(this.i.forEach(e=>{e.media=k,e.disabled=!1}),this.t.forEach(e=>{e.media=v,e.disabled=!0})):(this.t.forEach(e=>{e.media=k,e.disabled=!1}),this.i.forEach(e=>{e.media=v,e.disabled=!0}))}S(){this.M.style.visibility="visible",setTimeout(()=>{this.M.style.visibility="hidden"},3e3)}};customElements.define($,DarkModeToggle);"use strict";const toggle=document.querySelector("dark-mode-toggle"),body=document.body;let switchMode=e=>{let t=document.querySelectorAll("i[class^='p-icon--']:not([data-toggle-behavior='invariant'])");for(let i of Array.from(t))e?i.classList.add("is-light"):i.classList.remove("is-light")},darkMode=()=>{switchMode(!0),document.documentElement.setAttribute("data-theme","dark")},lightMode=()=>{switchMode(!1),document.documentElement.setAttribute("data-theme","light")},isStorageAvailable=()=>{try{let e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}};isStorageAvailable()?("dark"===toggle.mode?darkMode():lightMode(),toggle.addEventListener("colorschemechange",()=>{"dark"===toggle.mode?darkMode():lightMode()})):toggle.remove();